{"ast":null,"code":"var _jsxFileName = \"/Users/katvengo/prep-cado/App/Components/ImageInput.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport colors from \"../config/colors\";\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport * as ImagePicker from \"expo-image-picker\";\n\nfunction ImageInput(_ref) {\n  var imageUri = _ref.imageUri,\n      onChangeImage = _ref.onChangeImage;\n  useEffect(function () {\n    requestPermission();\n  }, []);\n\n  var requestPermission = function requestPermission() {\n    var _await$ImagePicker$re, status, _await$ImagePicker$re2, granted;\n\n    return _regeneratorRuntime.async(function requestPermission$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(Platform.OS !== 'web')) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n          case 3:\n            _await$ImagePicker$re = _context.sent;\n            status = _await$ImagePicker$re.status;\n\n            if (status !== 'granted') {\n              alert(\"You need to enable permission to access the library.\");\n            }\n\n          case 6:\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n          case 8:\n            _await$ImagePicker$re2 = _context.sent;\n            granted = _await$ImagePicker$re2.granted;\n            if (!granted) alert(\"You need to enable permission to access the library.\");\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handlePress = function handlePress() {\n    if (!imageUri) selectImage();else Alert.alert(\"Delete\", \"Are you sure you want to delete this image?\", [{\n      text: \"Yes\",\n      onPress: function onPress() {\n        return onChangeImage(null);\n      }\n    }, {\n      text: \"No\"\n    }]);\n  };\n\n  var selectImage = function selectImage() {\n    var result;\n    return _regeneratorRuntime.async(function selectImage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              quality: 0.5\n            }));\n\n          case 3:\n            result = _context2.sent;\n            console.log(result);\n            if (!result.cancelled) onChangeImage(result.uri);\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(\"Error reading an image\", _context2.t0);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: handlePress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, !imageUri && React.createElement(MaterialCommunityIcons, {\n    name: \"camera\",\n    size: 40,\n    color: colors.medium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), imageUri && React.createElement(Image, {\n    source: {\n      uri: imageUri\n    },\n    style: styles.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 14\n    }\n  })));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: colors.light,\n    borderRadius: 15,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    width: 100\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  }\n});\nexport default ImageInput;","map":{"version":3,"sources":["/Users/katvengo/prep-cado/App/Components/ImageInput.js"],"names":["React","useEffect","colors","MaterialCommunityIcons","ImagePicker","ImageInput","imageUri","onChangeImage","requestPermission","Platform","OS","requestMediaLibraryPermissionsAsync","status","alert","granted","handlePress","selectImage","Alert","text","onPress","mediaTypes","MediaTypeOptions","Images","quality","result","console","log","cancelled","uri","styles","container","medium","image","StyleSheet","create","backgroundColor","light","borderRadius","justifyContent","alignItems","height","width"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;;;;;AAIA,OAAOC,MAAP;AACA,SAAQC,sBAAR,QAAqC,oBAArC;AACA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;;AAEA,SAASC,UAAT,OAA+C;AAAA,MAA1BC,QAA0B,QAA1BA,QAA0B;AAAA,MAAhBC,aAAgB,QAAhBA,aAAgB;AAC3CN,EAAAA,SAAS,CAAC,YAAM;AACZO,IAAAA,iBAAiB;AAClB,GAFM,EAEJ,EAFI,CAAT;;AAIE,MAAMA,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,kBACpBC,QAAQ,CAACC,EAAT,KAAgB,KADI;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAGtBN,WAAW,CAACO,mCAAZ,EAHsB;;AAAA;AAAA;AAEfC,YAAAA,MAFe,yBAEfA,MAFe;;AAItB,gBAAIA,MAAM,KAAK,SAAf,EAA0B;AACxBC,cAAAA,KAAK,CAAC,sDAAD,CAAL;AACD;;AANqB;AAAA;AAAA,6CAQET,WAAW,CAACO,mCAAZ,EARF;;AAAA;AAAA;AAQhBG,YAAAA,OARgB,0BAQhBA,OARgB;AASxB,gBAAI,CAACA,OAAL,EAAcD,KAAK,CAAC,sDAAD,CAAL;;AATU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA1B;;AAYA,MAAME,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,QAAI,CAACT,QAAL,EAAeU,WAAW,GAA1B,KAEEC,KAAK,CAACJ,KAAN,CAAY,QAAZ,EAAsB,6CAAtB,EAAqE,CACnE;AAAEK,MAAAA,IAAI,EAAE,KAAR;AAAeC,MAAAA,OAAO,EAAE;AAAA,eAAMZ,aAAa,CAAC,IAAD,CAAnB;AAAA;AAAxB,KADmE,EAEnE;AAAEW,MAAAA,IAAI,EAAE;AAAR,KAFmE,CAArE;AAIH,GAPD;;AASA,MAAMF,WAAW,GAAG,SAAdA,WAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEKZ,WAAW,CAACO,mCAAZ,CAAgD;AACnES,cAAAA,UAAU,EAAEhB,WAAW,CAACiB,gBAAZ,CAA6BC,MAD0B;AAEnEC,cAAAA,OAAO,EAAE;AAF0D,aAAhD,CAFL;;AAAA;AAEVC,YAAAA,MAFU;AAMhBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,gBAAI,CAACA,MAAM,CAACG,SAAZ,EAAuBpB,aAAa,CAACiB,MAAM,CAACI,GAAR,CAAb;AAPP;AAAA;;AAAA;AAAA;AAAA;AAShBH,YAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;;AATgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApB;;AAaJ,SACE,oBAAC,wBAAD;AAA0B,IAAA,OAAO,EAAEX,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEc,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACxB,QAAD,IACD,oBAAC,sBAAD;AACA,IAAA,IAAI,EAAC,QADL;AAEA,IAAA,IAAI,EAAE,EAFN;AAGA,IAAA,KAAK,EAAEJ,MAAM,CAAC6B,MAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAQHzB,QAAQ,IAAI,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAE;AAACsB,MAAAA,GAAG,EAAEtB;AAAN,KAAf;AAAgC,IAAA,KAAK,EAAEuB,MAAM,CAACG,KAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IART,CADA,CADF;AAgBD;;AAED,IAAMH,MAAM,GAAGI,UAAU,CAACC,MAAX,CAAkB;AAC/BJ,EAAAA,SAAS,EAAE;AACPK,IAAAA,eAAe,EAAEjC,MAAM,CAACkC,KADjB;AAEPC,IAAAA,YAAY,EAAE,EAFP;AAGPC,IAAAA,cAAc,EAAE,QAHT;AAIPC,IAAAA,UAAU,EAAE,QAJL;AAKPC,IAAAA,MAAM,EAAE,GALD;AAMPC,IAAAA,KAAK,EAAE;AANA,GADoB;AAS/BT,EAAAA,KAAK,EAAE;AACHS,IAAAA,KAAK,EAAE,MADJ;AAEHD,IAAAA,MAAM,EAAE;AAFL;AATwB,CAAlB,CAAf;AAeA,eAAenC,UAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { View, StyleSheet, Image,\n    TouchableWithoutFeedback,Platform,\n    Alert,} from 'react-native';\nimport colors from '../config/colors';\nimport {MaterialCommunityIcons} from '@expo/vector-icons'\nimport * as ImagePicker from \"expo-image-picker\";\n\nfunction ImageInput({imageUri, onChangeImage}) {\n    useEffect(() => {\n        requestPermission();\n      }, []);\n    \n      const requestPermission = async () => {\n        if (Platform.OS !== 'web') {\n          const {status} = await\n          ImagePicker.requestMediaLibraryPermissionsAsync();\n          if (status !== 'granted') {\n            alert(\"You need to enable permission to access the library.\")\n          }\n        }\n        const { granted } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n        if (!granted) alert(\"You need to enable permission to access the library.\");\n      };\n    \n      const handlePress = () => {\n        if (!imageUri) selectImage();\n        else\n          Alert.alert(\"Delete\", \"Are you sure you want to delete this image?\", [\n            { text: \"Yes\", onPress: () => onChangeImage(null) },\n            { text: \"No\" },\n          ]);\n      };\n\n      const selectImage = async () => {\n        try {\n          const result = await ImagePicker.requestMediaLibraryPermissionsAsync({\n            mediaTypes: ImagePicker.MediaTypeOptions.Images,\n            quality: 0.5,\n          });\n          console.log(result)\n          if (!result.cancelled) onChangeImage(result.uri);\n        } catch (error) {\n          console.log(\"Error reading an image\", error);\n        }\n      };\n\n  return (\n    <TouchableWithoutFeedback onPress={handlePress}>\n    <View style={styles.container}>\n      {!imageUri && (\n      <MaterialCommunityIcons \n      name=\"camera\" \n      size={40}\n      color={colors.medium}\n      />\n      )}\n{imageUri && <Image source={{uri: imageUri}} style={styles.image} /> }\n  </View>       \n   </TouchableWithoutFeedback>\n\n  )\n  \n}\n\nconst styles = StyleSheet.create({\n  container: {\n      backgroundColor: colors.light,\n      borderRadius: 15,\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: 100,\n      width: 100\n  }, \n  image: {\n      width: '100%',\n      height: '100%'\n  }\n});\n\nexport default ImageInput;"]},"metadata":{},"sourceType":"module"}